(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{HVwC:function(e,n,t){},L1EO:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);t("L1EO"),t("HVwC"),t("RtS0"),t("WB5j"),t("3dw1");var a,l,o,i=t("uTJt"),r=t.n(i),c=(t("IlJM"),t("D/wG"),t("JBxO"),t("FdtR"),t("wcNg"),{page:1,apiKey:"89b9004c084fb7d0e8ffaadd17cb8254",total:0,getOneMovieInfo:function(e){var n="https://api.themoviedb.org/3/movie/"+e+"?api_key="+this.apiKey+"&language=en-US";return fetch(n).then((function(e){return e.json()}))},getPopularMovies:function(){var e="https://api.themoviedb.org/3/movie/popular?api_key="+this.apiKey+"&language=en-US&page=1&";return fetch(e).then((function(e){return e.json()}))},getMoviesBySearch:function(e){var n="https://api.themoviedb.org/3/search/movie?api_key="+this.apiKey+"&language=en-US&query="+e+"&page=1";return fetch(n).then((function(e){return e.json()}))},getGenre:function(){var e="https://api.themoviedb.org/3/genre/movie/list?api_key="+this.apiKey+"&language=en-US";return fetch(e).then((function(e){return e.json()})).then((function(e){return e.genres}))}});function s(e,n,t,a,l,o,i){try{var r=e[o](i),c=r.value}catch(e){return void t(e)}r.done?n(c):Promise.resolve(c).then(a,l)}function u(e){for(var n="",t=function(t){var l=e[t];if(t>1&&e.length>3)return n+="Other","break";n+=a.find((function(e){return e.id===l})).name,(0===t&&e.length>1||1===t&&e.length>2)&&(n+=", ")},l=0;l<e.length;l++){if("break"===t(l))break}return n}(l=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getGenre();case 2:a=e.sent;case 3:case"end":return e.stop()}}),e)})),o=function(){var e=this,n=arguments;return new Promise((function(t,a){var o=l.apply(e,n);function i(e){s(o,t,a,i,r,"next",e)}function r(e){s(o,t,a,i,r,"throw",e)}i(void 0)}))},function(){return o.apply(this,arguments)})();var d={header:document.querySelector(".header"),nav:document.querySelector(".nav"),logo:document.querySelector(".logo"),home:document.querySelector("#home"),myLib:document.querySelector("#lib"),searchBox:document.querySelector(".search-box"),input:document.querySelector("#input"),notification:document.querySelector("#notification"),btnBox:document.querySelector(".btn-box"),gallery:document.querySelector(".movies-list"),container:document.querySelector(".container"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]"),movieCard:document.querySelector(".movie-card"),modalLib:document.querySelector("#modal-lib")};function p(){c.getPopularMovies().then((function(e){e.results.forEach((function(e){return e.genre_ids=u(e.genre_ids)})),e.results.forEach((function(e){return e.release_date=e.release_date.slice(0,4)})),m(e.results)}))}function m(e){d.gallery.innerHTML=r()(e)}p(),d.input.addEventListener("change",(function(e){var n=e.target.value;c.getMoviesBySearch(n).then((function(e){var n=e.results;if(n.forEach((function(e){return e.genre_ids=u(e.genre_ids)})),n.forEach((function(e){return e.release_date=e.release_date.slice(0,4)})),n.length)return d.notification.classList.add("visually-hidden"),m(e.results);d.notification.classList.remove("visually-hidden")}))}));var h=p,f=function(){d.home.classList.add("nav-link--curent"),d.myLib.classList.remove("nav-link--curent"),d.header.classList.add("header-home"),d.header.classList.remove("header-lib"),d.btnBox.classList.add("visually-hidden"),d.searchBox.classList.remove("visually-hidden")},v=function(){d.home.classList.remove("nav-link--curent"),d.myLib.classList.add("nav-link--curent"),d.header.classList.remove("header-home"),d.header.classList.add("header-lib"),d.btnBox.classList.remove("visually-hidden"),d.searchBox.classList.add("visually-hidden")},g=function(){d.modal.classList.toggle("is-hidden")};d.nav.addEventListener("click",(function(e){e.preventDefault(),e.target===d.myLib?v():e.target===d.home&&f()})),d.logo.addEventListener("click",(function(e){e.preventDefault(),f(),h()})),console.log(d.modalLib),d.modalLib.addEventListener("click",(function(e){e.preventDefault(),g(),v()}));t("IvQZ"),t("4NM0");var y=t("wiOx"),b=t.n(y);function _(e){c.getOneMovieInfo(e).then((function(e){d.movieCard.innerHTML=b()([e]),function(e){document.querySelector(".movie-card").addEventListener("click",(function(n){if("BUTTON"===n.target.nodeName){var t=n.target.dataset.source;console.log(n.target),"add-watched"===t?w("add-watched",e):"add-queue"===t&&w("add-queue",e)}}))}(e.id),console.log(e.id)}))}function w(e,n){var t=[],a=JSON.parse(localStorage.getItem(e));if(null===a)t.push(n),localStorage.setItem(e,JSON.stringify(t));else{if(a.includes(n))return;(t=a).push(n),localStorage.setItem(e,JSON.stringify(t))}}d.gallery.addEventListener("click",(function(e){e.preventDefault();var n=e.target;if("UL"===n.nodeName)return;d.modal.classList.toggle("is-hidden"),_(n.dataset.id)})),d.closeModalBtn.addEventListener("click",g)},uTJt:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var o,i,r=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="movies-list-item">\n  <div class="wrap">\n   '+(null!=(o=d(t,"if").call(r,null!=n?d(n,"poster_path"):n,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l,loc:{start:{line:4,column:3},end:{line:8,column:11}}}))?o:"")+'    </div>\n    <h2 class="list-item-title" data-id="'+u(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:c)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:10,column:41},end:{line:10,column:47}}}):i)+'">'+u(typeof(i=null!=(i=d(t,"title")||(null!=n?d(n,"title"):n))?i:c)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:10,column:49},end:{line:10,column:58}}}):i)+'</h2>\n    <p class="list-item-descr" data-id="'+u(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:c)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:11,column:40},end:{line:11,column:46}}}):i)+'">'+u(typeof(i=null!=(i=d(t,"genre_ids")||(null!=n?d(n,"genre_ids"):n))?i:c)===s?i.call(r,{name:"genre_ids",hash:{},data:l,loc:{start:{line:11,column:48},end:{line:11,column:61}}}):i)+" | "+u(typeof(i=null!=(i=d(t,"release_date")||(null!=n?d(n,"release_date"):n))?i:c)===s?i.call(r,{name:"release_date",hash:{},data:l,loc:{start:{line:11,column:64},end:{line:11,column:80}}}):i)+' <span class="list-item-vote_average"> '+u(typeof(i=null!=(i=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?i:c)===s?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:11,column:119},end:{line:11,column:135}}}):i)+" </span></p>\n</li>\n"},2:function(e,n,t,a,l){var o,i=null!=n?n:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return' <img class="list-item-img" src="https://image.tmdb.org/t/p/w300/'+c("function"==typeof(o=null!=(o=s(t,"poster_path")||(null!=n?s(n,"poster_path"):n))?o:r)?o.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:87},end:{line:4,column:102}}}):o)+'" alt="Movie" data-id="'+c("function"==typeof(o=null!=(o=s(t,"id")||(null!=n?s(n,"id"):n))?o:r)?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:4,column:125},end:{line:4,column:131}}}):o)+'" />\n'},4:function(e,n,t,a,l){var o,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<img class="list-item-img" src="https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie-1-1-300x450.jpg"\n    alt="Movie" data-id="'+e.escapeExpression("function"==typeof(o=null!=(o=i(t,"id")||(null!=n?i(n,"id"):n))?o:e.hooks.helperMissing)?o.call(null!=n?n:e.nullContext||{},{name:"id",hash:{},data:l,loc:{start:{line:7,column:25},end:{line:7,column:31}}}):o)+'" />\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:13,column:9}}}))?o:""},useData:!0})},wiOx:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var o,i,r=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="card-box">\n    <div class="box-image">\n        <img class="one-movie-image" src="https://image.tmdb.org/t/p/w400/'+u(typeof(i=null!=(i=d(t,"poster_path")||(null!=n?d(n,"poster_path"):n))?i:c)===s?i.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:74},end:{line:4,column:89}}}):i)+'" alt="Poster">\n    </div>\n    <div class="box-content">\n        <h2 class="content-title">'+u(typeof(i=null!=(i=d(t,"title")||(null!=n?d(n,"title"):n))?i:c)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:7,column:34},end:{line:7,column:43}}}):i)+'</h2>\n        <ul class="content-list">\n            <li class="content-item">\n                <p class="item-part">Vote / Votes </p>\n                <span class="item-data item-data--accent">'+u(typeof(i=null!=(i=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?i:c)===s?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:11,column:58},end:{line:11,column:74}}}):i)+'</span><span> / </span>\n                <span class="item-data item-data--accent item-data--grey">'+u(typeof(i=null!=(i=d(t,"vote_count")||(null!=n?d(n,"vote_count"):n))?i:c)===s?i.call(r,{name:"vote_count",hash:{},data:l,loc:{start:{line:12,column:74},end:{line:12,column:88}}}):i)+'</span>\n            </li>\n            <li class="content-item">\n                <p class="item-part">Popularity</p> <span class="item-data">'+u(typeof(i=null!=(i=d(t,"popularity")||(null!=n?d(n,"popularity"):n))?i:c)===s?i.call(r,{name:"popularity",hash:{},data:l,loc:{start:{line:16,column:76},end:{line:16,column:90}}}):i)+'</span>\n\n            </li>\n            <li class="content-item">\n                <p class="item-part">Original Title</p> <span class="item-data">'+u(typeof(i=null!=(i=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?i:c)===s?i.call(r,{name:"original_title",hash:{},data:l,loc:{start:{line:20,column:80},end:{line:20,column:98}}}):i)+'</span>\n\n            </li>\n            <li class="content-item">\n                <p class="item-part">Genre\n                <ul class="genre-list">\n'+(null!=(o=d(t,"each").call(r,null!=n?d(n,"genres"):n,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:26,column:20},end:{line:28,column:29}}}))?o:"")+'                </ul>\n                </p>\n\n            </li>\n        </ul>\n        <h3 class="title-text">About</h3>\n        <p class="text">'+u(typeof(i=null!=(i=d(t,"overview")||(null!=n?d(n,"overview"):n))?i:c)===s?i.call(r,{name:"overview",hash:{},data:l,loc:{start:{line:35,column:24},end:{line:35,column:36}}}):i)+'</p>\n        <div class="box-btn">\n            <button id="add-watched" class="btn btn--accent" data-source=\'add-watched\'>add to Watched</button>\n            <button id="add-queue" class="btn" data-source=\'add-queue\'>add to queue</button>\n        </div>\n    </div>\n</div>\n'},2:function(e,n,t,a,l){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'                    <li class="item-data genre-data">'+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:42,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.630f753cfae2a44dce0f.js.map